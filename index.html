<!doctype html>
<html lang="en">
<head>
  <meta charset='utf-8'>
  <title>ipfs-bitswap 0.29.0 | Documentation</title>
  <meta name='description' content='Node.js implementation of the Bitswap data exchange protocol used by IPFS'>
  <meta name='viewport' content='width=device-width,initial-scale=1'>
  <link href='assets/bass.css' rel='stylesheet'>
  <link href='assets/style.css' rel='stylesheet'>
  <link href='assets/github.css' rel='stylesheet'>
  <link href='assets/split.css' rel='stylesheet'>
</head>
<body class='documentation m0'>
    <div class='flex'>
      <div id='split-left' class='overflow-auto fs0 height-viewport-100'>
        <div class='py1 px2'>
          <h3 class='mb0 no-anchor'>ipfs-bitswap</h3>
          <div class='mb1'><code>0.29.0</code></div>
          <input
            placeholder='Filter'
            id='filter-input'
            class='col12 block input'
            spellcheck='false'
            autocapitalize='off'
            autocorrect='off'
            type='text' />
          <div id='toc'>
            <ul class='list-reset h5 py1-ul'>
              
                
                <li><a
                  href='#intro'
                  class="h5 bold black caps">
                  Intro
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#bitswap'
                  class=" toggle-sibling">
                  Bitswap
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#bitswapenablestats'
                        class='regular pre-open'>
                        #enableStats
                      </a></li>
                      
                      <li><a
                        href='#bitswapdisablestats'
                        class='regular pre-open'>
                        #disableStats
                      </a></li>
                      
                      <li><a
                        href='#bitswapwantlistforpeer'
                        class='regular pre-open'>
                        #wantlistForPeer
                      </a></li>
                      
                      <li><a
                        href='#bitswapledgerforpeer'
                        class='regular pre-open'>
                        #ledgerForPeer
                      </a></li>
                      
                      <li><a
                        href='#bitswapget'
                        class='regular pre-open'>
                        #get
                      </a></li>
                      
                      <li><a
                        href='#bitswapgetmany'
                        class='regular pre-open'>
                        #getMany
                      </a></li>
                      
                      <li><a
                        href='#bitswapunwant'
                        class='regular pre-open'>
                        #unwant
                      </a></li>
                      
                      <li><a
                        href='#bitswapcancelwants'
                        class='regular pre-open'>
                        #cancelWants
                      </a></li>
                      
                      <li><a
                        href='#bitswapput'
                        class='regular pre-open'>
                        #put
                      </a></li>
                      
                      <li><a
                        href='#bitswapputmany'
                        class='regular pre-open'>
                        #putMany
                      </a></li>
                      
                      <li><a
                        href='#bitswapgetwantlist'
                        class='regular pre-open'>
                        #getWantlist
                      </a></li>
                      
                      <li><a
                        href='#bitswappeers'
                        class='regular pre-open'>
                        #peers
                      </a></li>
                      
                      <li><a
                        href='#bitswapstat'
                        class='regular pre-open'>
                        #stat
                      </a></li>
                      
                      <li><a
                        href='#bitswapstart'
                        class='regular pre-open'>
                        #start
                      </a></li>
                      
                      <li><a
                        href='#bitswapstop'
                        class='regular pre-open'>
                        #stop
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#findproviders'
                  class="">
                  findProviders
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#findandconnect'
                  class="">
                  findAndConnect
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#connectto'
                  class="">
                  connectTo
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#task'
                  class="">
                  Task
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#taskmerger'
                  class=" toggle-sibling">
                  TaskMerger
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  <ul class='list-reset py1-ul pl1'>
                    <li class='h5'><span>Static members</span></li>
                    
                      <li><a
                        href='#taskmergerhasnewinfo'
                        class='regular pre-open'>
                        .hasNewInfo
                      </a></li>
                    
                      <li><a
                        href='#taskmergermerge'
                        class='regular pre-open'>
                        .merge
                      </a></li>
                    
                    </ul>
                  
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#defaulttaskmerger'
                  class="">
                  DefaultTaskMerger
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#requestqueue'
                  class=" toggle-sibling">
                  RequestQueue
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#requestqueuepushtasks'
                        class='regular pre-open'>
                        #pushTasks
                      </a></li>
                      
                      <li><a
                        href='#requestqueuepoptasks'
                        class='regular pre-open'>
                        #popTasks
                      </a></li>
                      
                      <li><a
                        href='#requestqueueremove'
                        class='regular pre-open'>
                        #remove
                      </a></li>
                      
                      <li><a
                        href='#requestqueuetasksdone'
                        class='regular pre-open'>
                        #tasksDone
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#peertasks'
                  class=" toggle-sibling">
                  PeerTasks
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#peertaskspushtasks'
                        class='regular pre-open'>
                        #pushTasks
                      </a></li>
                      
                      <li><a
                        href='#peertaskspoptasks'
                        class='regular pre-open'>
                        #popTasks
                      </a></li>
                      
                      <li><a
                        href='#peertaskstaskdone'
                        class='regular pre-open'>
                        #taskDone
                      </a></li>
                      
                      <li><a
                        href='#peertasksremove'
                        class='regular pre-open'>
                        #remove
                      </a></li>
                      
                      <li><a
                        href='#peertasksisidle'
                        class='regular pre-open'>
                        #isIdle
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#pendingtasks'
                  class="">
                  PendingTasks
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#sortedmap'
                  class=" toggle-sibling">
                  SortedMap
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#sortedmapupdate'
                        class='regular pre-open'>
                        #update
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#ismapequal'
                  class="">
                  isMapEqual
                  
                </a>
                
                </li>
              
            </ul>
          </div>
          <div class='mt1 h6 quiet'>
            <a href='https://documentation.js.org/reading-documentation.html'>Need help reading this?</a>
          </div>
        </div>
      </div>
      <div id='split-right' class='relative overflow-auto height-viewport-100'>
        
          
            <div class='keyline-top-not py2'><section class='py2 clearfix'>

  <h2 id='intro' class='mt0'>
    Intro
  </h2>

  
    <p>Installable via  <code>npm install --save ipfs-bitswap</code>, it can also be used directly in the browser.</p>
<h2>Download</h2>
<p>The source is available for download from <a href="git+https://github.com/ipfs/js-ipfs-bitswap.git">GitHub</a>. Alternatively, you can install using npm:</p>
<pre class='hljs'>$ npm install --save ipfs-bitswap</pre>
<p>You can then <code>require()</code> ipfs-bitswap as normal:</p>
<pre class='hljs'><span class="hljs-keyword">const</span> ipfsBitswap = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ipfs-bitswap'</span>)</pre>
<h2>In the Browser</h2>
<p><code>ipfs-bitswap</code> should work in any ECMAScript 2018 environment out of the box.</p>
<p>Usage:</p>
<pre class='hljs'><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"index.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></pre>
<p>The portable versions of <code>ipfs-bitswap</code>, including <code>index.js</code> and <code>index.min.js</code>, are included in the <code>/dist</code> folder. <code>ipfs-bitswap</code> can also be found on <a href="https://unpkg.com">unpkg.com</a> under</p>
<ul>
<li><a href="https://unpkg.com/ipfs-bitswap/dist/index.min.js">https://unpkg.com/ipfs-bitswap/dist/index.min.js</a></li>
<li><a href="https://unpkg.com/ipfs-bitswap/dist/index.js">https://unpkg.com/ipfs-bitswap/dist/index.js</a></li>
</ul>

  
</section></div>
          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='bitswap'>
      Bitswap
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/index.js#L35-L360'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>JavaScript implementation of the Bitswap 'data exchange' protocol
used by IPFS.</p>

    <div class='pre p1 fill-light mt0'>new Bitswap(libp2p: Libp2p, blockstore: Blockstore, options: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>libp2p</span> <code class='quiet'>(Libp2p)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>blockstore</span> <code class='quiet'>(Blockstore)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>options</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='bitswapenablestats'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>enableStats()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/index.js#L143-L145'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>enableStats(): void</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='bitswapdisablestats'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>disableStats()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/index.js#L150-L152'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>disableStats(): void</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='bitswapwantlistforpeer'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>wantlistForPeer(peerId)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/index.js#L160-L162'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Return the current wantlist for a given <code>peerId</code></p>

    <div class='pre p1 fill-light mt0'>wantlistForPeer(peerId: PeerId): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>peerId</span> <code class='quiet'>(PeerId)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='bitswapledgerforpeer'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>ledgerForPeer(peerId)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/index.js#L170-L172'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Return ledger information for a given <code>peerId</code></p>

    <div class='pre p1 fill-light mt0'>ledgerForPeer(peerId: PeerId): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>peerId</span> <code class='quiet'>(PeerId)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='bitswapget'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>get(cid)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/index.js#L181-L185'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Fetch a given block by cid. If the block is in the local
blockstore it is returned, otherwise the block is added to the wantlist and returned once another node sends it to us.</p>

    <div class='pre p1 fill-light mt0'>get(cid: CID): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Block></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>cid</span> <code class='quiet'>(CID)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Block></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='bitswapgetmany'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>getMany(cids)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/index.js#L194-L234'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Fetch a a list of blocks by cid. If the blocks are in the local
blockstore they are returned, otherwise the blocks are added to the wantlist and returned once another node sends them to us.</p>

    <div class='pre p1 fill-light mt0'>getMany(cids: Iterable&#x3C;CID>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;AsyncIterator&#x3C;Block>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>cids</span> <code class='quiet'>(Iterable&#x3C;CID>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;AsyncIterator&#x3C;Block>></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='bitswapunwant'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>unwant(cids)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/index.js#L242-L249'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Removes the given CIDs from the wantlist independent of any ref counts</p>

    <div class='pre p1 fill-light mt0'>unwant(cids: Iterable&#x3C;CID>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>cids</span> <code class='quiet'>(Iterable&#x3C;CID>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='bitswapcancelwants'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>cancelWants(cids)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/index.js#L257-L262'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Removes the given keys from the want list</p>

    <div class='pre p1 fill-light mt0'>cancelWants(cids: Iterable&#x3C;CID>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>cids</span> <code class='quiet'>(Iterable&#x3C;CID>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='bitswapput'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>put(block)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/index.js#L271-L273'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Put the given block to the underlying blockstore and
send it to nodes that have it in their wantlist.</p>

    <div class='pre p1 fill-light mt0'>put(block: Block): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>block</span> <code class='quiet'>(Block)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='bitswapputmany'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>putMany(blocks)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/index.js#L282-L309'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Put the given blocks to the underlying blockstore and
send it to nodes that have it them their wantlist.</p>

    <div class='pre p1 fill-light mt0'>putMany(blocks: (AsyncIterable&#x3C;Block> | Iterable&#x3C;Block>)): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>blocks</span> <code class='quiet'>((AsyncIterable&#x3C;Block> | Iterable&#x3C;Block>))</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='bitswapgetwantlist'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>getWantlist()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/index.js#L316-L318'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Get the current list of wants.</p>

    <div class='pre p1 fill-light mt0'>getWantlist(): Iterator&#x3C;WantlistEntry></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Iterator&#x3C;WantlistEntry></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='bitswappeers'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>peers()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/index.js#L325-L327'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Get the current list of partners.</p>

    <div class='pre p1 fill-light mt0'>peers(): Iterator&#x3C;PeerId></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Iterator&#x3C;PeerId></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='bitswapstat'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>stat()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/index.js#L334-L336'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Get stats about the bitswap node.</p>

    <div class='pre p1 fill-light mt0'>stat(): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='bitswapstart'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>start()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/index.js#L343-L347'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Start the bitswap node.</p>

    <div class='pre p1 fill-light mt0'>start(): void</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='bitswapstop'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>stop()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/index.js#L354-L359'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Stop the bitswap node.</p>

    <div class='pre p1 fill-light mt0'>stop(): void</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='findproviders'>
      findProviders
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/network.js#L110-L118'>
      <span>src/network.js</span>
      </a>
    
  </div>
  

  <p>Find providers given a <code>cid</code>.</p>

    <div class='pre p1 fill-light mt0'>findProviders(cid: CID, maxProviders: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Result&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>cid</span> <code class='quiet'>(CID)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>maxProviders</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Result&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>>></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='findandconnect'>
      findAndConnect
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/network.js#L126-L133'>
      <span>src/network.js</span>
      </a>
    
  </div>
  

  <p>Find the providers of a given <code>cid</code> and connect to them.</p>

    <div class='pre p1 fill-light mt0'>findAndConnect(cid: CID): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>cid</span> <code class='quiet'>(CID)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='connectto'>
      connectTo
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/network.js#L174-L180'>
      <span>src/network.js</span>
      </a>
    
  </div>
  

  <p>Connects to another peer</p>

    <div class='pre p1 fill-light mt0'>connectTo(peer: (PeerInfo | PeerId | Multiaddr)): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Connection></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>peer</span> <code class='quiet'>((PeerInfo | PeerId | Multiaddr))</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Connection></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='task'>
      Task
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/decision-engine/req-queue.js#L5-L10'>
      <span>src/decision-engine/req-queue.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>Task</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
    </p>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>topic</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          : a name for the Task (like an id but not necessarily unique)

          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>priority</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
          : tasks are ordered by priority per peer

          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>size</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
          : the size of the task, eg the number of bytes in a block

          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='taskmerger'>
      TaskMerger
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/decision-engine/req-queue.js#L12-L19'>
      <span>src/decision-engine/req-queue.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>TaskMerger</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
    </p>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>hasNewInfo</span> <code class='quiet'>(function (task, tasksWithTopic))</code>
          : given the existing
tasks with the same topic, does the task add some new information?
Used to decide whether to merge the task or ignore it.

          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>merge</span> <code class='quiet'>(function (task, existingTask))</code>
          : merge the information from
the given task into the existing task (with the same topic)

          
        </div>
      
    </div>
  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Static Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='taskmergerhasnewinfo'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>hasNewInfo(task, tasksWithTopic)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/decision-engine/task-merger.js#L11-L38'>
      <span>src/decision-engine/task-merger.js</span>
      </a>
    
  </div>
  

  <p>Indicates whether the given task has newer information than the active
tasks with the same topic</p>

    <div class='pre p1 fill-light mt0'>hasNewInfo(task: <a href="#task">Task</a>, tasksWithTopic: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="#task">Task</a>>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>task</span> <code class='quiet'>(<a href="#task">Task</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>tasksWithTopic</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="#task">Task</a>>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='taskmergermerge'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>merge(newTask, existingTask)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/decision-engine/task-merger.js#L45-L128'>
      <span>src/decision-engine/task-merger.js</span>
      </a>
    
  </div>
  

  <p>Merge the information from the task into the existing pending task</p>

    <div class='pre p1 fill-light mt0'>merge(newTask: <a href="#task">Task</a>, existingTask: <a href="#task">Task</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>newTask</span> <code class='quiet'>(<a href="#task">Task</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>existingTask</span> <code class='quiet'>(<a href="#task">Task</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='defaulttaskmerger'>
      DefaultTaskMerger
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/decision-engine/req-queue.js#L26-L32'>
      <span>src/decision-engine/req-queue.js</span>
      </a>
    
  </div>
  

  <p>The task merger that is used by default.
Assumes that new tasks do not add any information over existing tasks,
and doesn't try to merge.</p>

    <div class='pre p1 fill-light mt0'>DefaultTaskMerger</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='requestqueue'>
      RequestQueue
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/decision-engine/req-queue.js#L41-L142'>
      <span>src/decision-engine/req-queue.js</span>
      </a>
    
  </div>
  

  <p>Queue of requests to be processed by the engine.
The requests from each peer are added to the peer's queue, sorted by
priority.
Tasks are popped in priority order from the best peer - see popTasks()
for more details.</p>

    <div class='pre p1 fill-light mt0'>new RequestQueue(taskMerger: <a href="#taskmerger">TaskMerger</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>taskMerger</span> <code class='quiet'>(<a href="#taskmerger">TaskMerger</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='requestqueuepushtasks'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>pushTasks(peerId, tasks)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/decision-engine/req-queue.js#L55-L65'>
      <span>src/decision-engine/req-queue.js</span>
      </a>
    
  </div>
  

  <p>Push tasks onto the queue for the given peer</p>

    <div class='pre p1 fill-light mt0'>pushTasks(peerId: PeerId, tasks: <a href="#task">Task</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>peerId</span> <code class='quiet'>(PeerId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>tasks</span> <code class='quiet'>(<a href="#task">Task</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='requestqueuepoptasks'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>popTasks(targetMinBytes)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/decision-engine/req-queue.js#L76-L102'>
      <span>src/decision-engine/req-queue.js</span>
      </a>
    
  </div>
  

  <p>Choose the peer with the least active work (or if all have the same active
work, the most pending tasks) and pop off the highest priority tasks until
the total size is at least targetMinBytes.
This puts the popped tasks into the "active" state, meaning they are
actively being processed (and cannot be modified).</p>

    <div class='pre p1 fill-light mt0'>popTasks(targetMinBytes: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>targetMinBytes</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    the minimum total size of tasks to pop

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='requestqueueremove'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>remove(topic, peerId)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/decision-engine/req-queue.js#L116-L119'>
      <span>src/decision-engine/req-queue.js</span>
      </a>
    
  </div>
  

  <p>Remove the task with the given topic for the given peer.</p>

    <div class='pre p1 fill-light mt0'>remove(topic: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, peerId: PeerId)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>topic</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>peerId</span> <code class='quiet'>(PeerId)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='requestqueuetasksdone'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>tasksDone(peerId, tasks)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/decision-engine/req-queue.js#L126-L141'>
      <span>src/decision-engine/req-queue.js</span>
      </a>
    
  </div>
  

  <p>Called when the tasks for the given peer complete.</p>

    <div class='pre p1 fill-light mt0'>tasksDone(peerId: PeerId, tasks: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="#task">Task</a>>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>peerId</span> <code class='quiet'>(PeerId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>tasks</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="#task">Task</a>>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='peertasks'>
      PeerTasks
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/decision-engine/req-queue.js#L147-L291'>
      <span>src/decision-engine/req-queue.js</span>
      </a>
    
  </div>
  

  <p>Queue of tasks for a particular peer, sorted by priority.</p>

    <div class='pre p1 fill-light mt0'>new PeerTasks(peerId: PeerId, taskMerger: <a href="#taskmerger">TaskMerger</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>peerId</span> <code class='quiet'>(PeerId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>taskMerger</span> <code class='quiet'>(<a href="#taskmerger">TaskMerger</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='peertaskspushtasks'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>pushTasks(tasks)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/decision-engine/req-queue.js#L164-L168'>
      <span>src/decision-engine/req-queue.js</span>
      </a>
    
  </div>
  

  <p>Push tasks onto the queue.</p>

    <div class='pre p1 fill-light mt0'>pushTasks(tasks: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="#task">Task</a>>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>tasks</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="#task">Task</a>>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='peertaskspoptasks'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>popTasks(targetMinBytes)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/decision-engine/req-queue.js#L221-L242'>
      <span>src/decision-engine/req-queue.js</span>
      </a>
    
  </div>
  

  <p>Pop tasks off the queue such that the total size is at least targetMinBytes</p>

    <div class='pre p1 fill-light mt0'>popTasks(targetMinBytes: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>targetMinBytes</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='peertaskstaskdone'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>taskDone(task)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/decision-engine/req-queue.js#L249-L254'>
      <span>src/decision-engine/req-queue.js</span>
      </a>
    
  </div>
  

  <p>Called when a task completes.
Note: must be the same reference as returned from popTasks.</p>

    <div class='pre p1 fill-light mt0'>taskDone(task: <a href="#task">Task</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>task</span> <code class='quiet'>(<a href="#task">Task</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='peertasksremove'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>remove(topic)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/decision-engine/req-queue.js#L260-L262'>
      <span>src/decision-engine/req-queue.js</span>
      </a>
    
  </div>
  

  <p>Remove pending tasks with the given topic</p>

    <div class='pre p1 fill-light mt0'>remove(topic: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>topic</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='peertasksisidle'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>isIdle()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/decision-engine/req-queue.js#L268-L270'>
      <span>src/decision-engine/req-queue.js</span>
      </a>
    
  </div>
  

  <p>No work to be done, this PeerTasks object can be freed.</p>

    <div class='pre p1 fill-light mt0'>isIdle(): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='pendingtasks'>
      PendingTasks
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/decision-engine/req-queue.js#L296-L351'>
      <span>src/decision-engine/req-queue.js</span>
      </a>
    
  </div>
  

  <p>Queue of pending tasks for a particular peer, sorted by priority.</p>

    <div class='pre p1 fill-light mt0'>new PendingTasks()</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='sortedmap'>
      SortedMap
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/utils/sorted-map.js#L6-L153'>
      <span>src/utils/sorted-map.js</span>
      </a>
    
  </div>
  

  <p>SortedMap is a Map whose iterator order can be defined by the user</p>

    <div class='pre p1 fill-light mt0'>new SortedMap(entries: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;k, v>?, cmp: function (a, b)?)</div>
  
  
    <p>
      Extends
      
        <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>
      
    </p>
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>entries</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;k, v>?)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>cmp</span> <code class='quiet'>(function (a, b)?)</code>
	    compares 
[k1, v1]
 to 
[k2, v2]

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='sortedmapupdate'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>update(i)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/utils/sorted-map.js#L28-L37'>
      <span>src/utils/sorted-map.js</span>
      </a>
    
  </div>
  

  <p>Call update to update the position of the key when it should change.
For example if the compare function sorts by the priority field, and the
priority changes, call update.
Call indexOf() to get the index <em>before</em> the change happens.</p>

    <div class='pre p1 fill-light mt0'>update(i: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>i</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    the index of entry whose position should be updated.

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='ismapequal'>
      isMapEqual
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipfs-bitswap/blob/ef3055559471c30c211322f42bee8fe79dad8b7f/src/utils/index.js#L89-L112'>
      <span>src/utils/index.js</span>
      </a>
    
  </div>
  

  <p>Is equal for Maps of BitswapMessageEntry or Blocks</p>

    <div class='pre p1 fill-light mt0'>isMapEqual</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>a</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>b</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
      </div>
    </div>
  <script src='assets/anchor.js'></script>
  <script src='assets/split.js'></script>
  <script src='assets/site.js'></script>
</body>
</html>
